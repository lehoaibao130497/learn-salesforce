"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5581],{2928(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"week2/soql-dml","title":"Week 2, Day 5-6: SOQL & DML","description":"\ud83d\udcda Learning Objectives","source":"@site/docs/week2/soql-dml.md","sourceDirName":"week2","slug":"/week2/soql-dml","permalink":"/learn-salesforce/docs/week2/soql-dml","draft":false,"unlisted":false,"editUrl":"https://github.com/lehoaibao130497/learn-salesforce/tree/main/website/docs/docs/week2/soql-dml.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Week 2, Day 3-4: Apex Triggers","permalink":"/learn-salesforce/docs/week2/triggers"},"next":{"title":"Week 2, Day 7: Testing & Week 2 Review","permalink":"/learn-salesforce/docs/week2/testing-review"}}');var c=t(4848),i=t(8453);const r={},l="Week 2, Day 5-6: SOQL & DML",a={},d=[{value:"\ud83d\udcda Learning Objectives",id:"-learning-objectives",level:2},{value:"\ud83c\udfaf Part 1: SOQL Fundamentals",id:"-part-1-soql-fundamentals",level:2},{value:"What is SOQL?",id:"what-is-soql",level:3},{value:"SOQL Syntax",id:"soql-syntax",level:3},{value:"Basic SOQL Query",id:"basic-soql-query",level:3},{value:"\ud83d\udd17 Part 2: Relationship Queries",id:"-part-2-relationship-queries",level:2},{value:"Parent-to-Child Query",id:"parent-to-child-query",level:3},{value:"Child-to-Parent Query",id:"child-to-parent-query",level:3},{value:"Multiple Level Relationships",id:"multiple-level-relationships",level:3},{value:"\ud83d\udcca Part 3: Aggregate Queries",id:"-part-3-aggregate-queries",level:2},{value:"Aggregate Functions",id:"aggregate-functions",level:3},{value:"COUNT Query",id:"count-query",level:3},{value:"SUM and AVG Query",id:"sum-and-avg-query",level:3},{value:"MIN and MAX Query",id:"min-and-max-query",level:3},{value:"\ud83c\udfaf Part 4: Advanced SOQL",id:"-part-4-advanced-soql",level:2},{value:"LIKE Operator (Pattern Matching)",id:"like-operator-pattern-matching",level:3},{value:"IN Operator",id:"in-operator",level:3},{value:"NOT Operator",id:"not-operator",level:3},{value:"Date Queries",id:"date-queries",level:3},{value:"\ud83d\udcbe Part 5: DML Operations",id:"-part-5-dml-operations",level:2},{value:"DML Statement Types",id:"dml-statement-types",level:3},{value:"Insert Records",id:"insert-records",level:3},{value:"Update Records",id:"update-records",level:3},{value:"Delete Records",id:"delete-records",level:3},{value:"Upsert Records",id:"upsert-records",level:3},{value:"\u26a0\ufe0f Part 6: Governor Limits",id:"\ufe0f-part-6-governor-limits",level:2},{value:"Important SOQL Limits",id:"important-soql-limits",level:3},{value:"Important DML Limits",id:"important-dml-limits",level:3},{value:"Common Limit Violations",id:"common-limit-violations",level:3},{value:"Too Many SOQL Queries (101 Exception)",id:"too-many-soql-queries-101-exception",level:4},{value:"Too Many DML Statements (151 Exception)",id:"too-many-dml-statements-151-exception",level:4},{value:"\ud83c\udfaf Part 7: SOQL Best Practices",id:"-part-7-soql-best-practices",level:2},{value:"Query Optimization",id:"query-optimization",level:3},{value:"DML Best Practices",id:"dml-best-practices",level:3},{value:"\ud83d\udcdd Practice Exercise",id:"-practice-exercise",level:2},{value:"\u2705 Checklist",id:"-checklist",level:2},{value:"Day 5: SOQL Queries",id:"day-5-soql-queries",level:3},{value:"Day 6: DML Operations &amp; Limits",id:"day-6-dml-operations--limits",level:3},{value:"\ud83c\udf93 Trailhead Modules",id:"-trailhead-modules",level:2},{value:"\ud83d\udcda Next Steps",id:"-next-steps",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"week-2-day-5-6-soql--dml",children:"Week 2, Day 5-6: SOQL & DML"})}),"\n",(0,c.jsx)(n.h2,{id:"-learning-objectives",children:"\ud83d\udcda Learning Objectives"}),"\n",(0,c.jsx)(n.p,{children:"Sau khi ho\xe0n th\xe0nh c\xe1c b\xe0i h\u1ecdc n\xe0y, b\u1ea1n s\u1ebd:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u2705 Master SOQL query syntax"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Write parent-child relationship queries"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Implement aggregate queries"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Understand SOQL relationship queries"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Master DML operations"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Apply Governor Limits best practices"}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-part-1-soql-fundamentals",children:"\ud83c\udfaf Part 1: SOQL Fundamentals"}),"\n",(0,c.jsx)(n.h3,{id:"what-is-soql",children:"What is SOQL?"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"SOQL"})," (Salesforce Object Query Language) l\xe0 query language cho Salesforce database:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"SQL-like syntax"})," - T\u01b0\u01a1ng t\u1ef1 SQL nh\u01b0ng c\xf3 differences"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Object-oriented"})," - Query sObjects v\xe0 fields"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Governor limits"})," - Subject to query limits"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Relationships"})," - Native support cho relationships"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"soql-syntax",children:"SOQL Syntax"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"SELECT field1, field2, ...\nFROM ObjectName\nWHERE condition\nORDER BY field\nLIMIT number\n"})}),"\n",(0,c.jsx)(n.h3,{id:"basic-soql-query",children:"Basic SOQL Query"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query all accounts\nList<Account> accounts = [\n    SELECT Id, Name, Industry, AnnualRevenue\n    FROM Account\n];\n\n// Query with WHERE clause\nList<Account> techAccounts = [\n    SELECT Id, Name, Industry\n    FROM Account\n    WHERE Industry = 'Technology'\n];\n\n// Query with multiple conditions\nList<Account> accounts = [\n    SELECT Id, Name, AnnualRevenue\n    FROM Account\n    WHERE Industry = 'Technology'\n    AND AnnualRevenue > 1000000\n];\n\n// Query with ORDER BY\nList<Account> accounts = [\n    SELECT Id, Name, AnnualRevenue\n    FROM Account\n    ORDER BY AnnualRevenue DESC\n];\n\n// Query with LIMIT\nList<Account> accounts = [\n    SELECT Id, Name, Industry\n    FROM Account\n    LIMIT 10\n];\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-part-2-relationship-queries",children:"\ud83d\udd17 Part 2: Relationship Queries"}),"\n",(0,c.jsx)(n.h3,{id:"parent-to-child-query",children:"Parent-to-Child Query"}),"\n",(0,c.jsx)(n.p,{children:"Query parent record v\xe0 child records trong single query:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query accounts with their contacts\nList<Account> accountsWithContacts = [\n    SELECT Id, Name,\n        (SELECT Id, FirstName, LastName, Email FROM Contacts)\n    FROM Account\n];\n\n// Process results\nfor (Account acc : accountsWithContacts) {\n    System.debug('Account: ' + acc.Name);\n    \n    // Access child records\n    for (Contact con : acc.Contacts) {\n        System.debug('Contact: ' + con.FirstName + ' ' + con.LastName);\n    }\n}\n"})}),"\n",(0,c.jsx)(n.h3,{id:"child-to-parent-query",children:"Child-to-Parent Query"}),"\n",(0,c.jsx)(n.p,{children:"Query child record v\xe0 parent fields:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query contacts with their account information\nList<Contact> contactsWithAccounts = [\n    SELECT Id, FirstName, LastName,\n        Account.Name,\n        Account.Industry,\n        Account.AnnualRevenue\n    FROM Contact\n];\n\n// Process results\nfor (Contact con : contactsWithAccounts) {\n    System.debug('Contact: ' + con.FirstName + ' ' + con.LastName);\n    System.debug('Account: ' + con.Account.Name);\n    System.debug('Industry: ' + con.Account.Industry);\n}\n"})}),"\n",(0,c.jsx)(n.h3,{id:"multiple-level-relationships",children:"Multiple Level Relationships"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query opportunity with account and contacts\nList<Opportunity> opportunities = [\n    SELECT Id, Name, Amount,\n        Account.Name,\n        Account.Industry,\n        (SELECT Id, FirstName, LastName FROM Account.Contacts)\n    FROM Opportunity\n];\n\n// Process\nfor (Opportunity opp : opportunities) {\n    System.debug('Opportunity: ' + opp.Name);\n    System.debug('Account: ' + opp.Account.Name);\n    \n    // Access account's contacts\n    for (Contact con : opp.Account.Contacts) {\n        System.debug('Contact: ' + con.FirstName);\n    }\n}\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-part-3-aggregate-queries",children:"\ud83d\udcca Part 3: Aggregate Queries"}),"\n",(0,c.jsx)(n.h3,{id:"aggregate-functions",children:"Aggregate Functions"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Function"}),(0,c.jsx)(n.th,{children:"Description"}),(0,c.jsx)(n.th,{children:"Example"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"COUNT()"})}),(0,c.jsx)(n.td,{children:"Count records"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"COUNT(Id)"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"SUM()"})}),(0,c.jsx)(n.td,{children:"Sum numeric values"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"SUM(Amount)"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"AVG()"})}),(0,c.jsx)(n.td,{children:"Average numeric values"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"AVG(Amount)"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"MIN()"})}),(0,c.jsx)(n.td,{children:"Minimum value"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"MIN(Amount)"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"MAX()"})}),(0,c.jsx)(n.td,{children:"Maximum value"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"MAX(Amount)"})})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"count-query",children:"COUNT Query"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Count all accounts\nInteger accountCount = [\n    SELECT COUNT()\n    FROM Account\n];\n\n// Count accounts by industry\nList<AggregateResult> results = [\n    SELECT Industry, COUNT(Id) count\n    FROM Account\n    GROUP BY Industry\n];\n\nfor (AggregateResult ar : results) {\n    String industry = (String) ar.get('Industry');\n    Integer count = (Integer) ar.get('count');\n    System.debug(industry + ': ' + count);\n}\n"})}),"\n",(0,c.jsx)(n.h3,{id:"sum-and-avg-query",children:"SUM and AVG Query"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Sum and average opportunity amounts\nList<AggregateResult> results = [\n    SELECT AccountId,\n        SUM(Amount) totalAmount,\n        AVG(Amount) avgAmount,\n        COUNT(Id) count\n    FROM Opportunity\n    GROUP BY AccountId\n];\n\nfor (AggregateResult ar : results) {\n    Id accountId = (Id) ar.get('AccountId');\n    Decimal total = (Decimal) ar.get('totalAmount');\n    Decimal avg = (Decimal) ar.get('avgAmount');\n    Integer count = (Integer) ar.get('count');\n    \n    System.debug('Account ID: ' + accountId);\n    System.debug('Total: ' + total);\n    System.debug('Average: ' + avg);\n    System.debug('Count: ' + count);\n}\n"})}),"\n",(0,c.jsx)(n.h3,{id:"min-and-max-query",children:"MIN and MAX Query"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Find min and max opportunity amounts\nList<AggregateResult> results = [\n    SELECT MIN(Amount) minAmount,\n        MAX(Amount) maxAmount,\n        AVG(Amount) avgAmount\n    FROM Opportunity\n    WHERE StageName = 'Closed Won'\n];\n\nAggregateResult ar = results[0];\nDecimal minAmount = (Decimal) ar.get('minAmount');\nDecimal maxAmount = (Decimal) ar.get('maxAmount');\nDecimal avgAmount = (Decimal) ar.get('avgAmount');\n\nSystem.debug('Min Amount: ' + minAmount);\nSystem.debug('Max Amount: ' + maxAmount);\nSystem.debug('Avg Amount: ' + avgAmount);\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-part-4-advanced-soql",children:"\ud83c\udfaf Part 4: Advanced SOQL"}),"\n",(0,c.jsx)(n.h3,{id:"like-operator-pattern-matching",children:"LIKE Operator (Pattern Matching)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query accounts with name starting with 'Acme'\nList<Account> accounts = [\n    SELECT Id, Name\n    FROM Account\n    WHERE Name LIKE 'Acme%'\n];\n\n// Query accounts with 'Tech' anywhere in name\nList<Account> techAccounts = [\n    SELECT Id, Name\n    FROM Account\n    WHERE Name LIKE '%Tech%'\n];\n"})}),"\n",(0,c.jsx)(n.h3,{id:"in-operator",children:"IN Operator"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query accounts in specific industries\nSet<String> industries = new Set<String>{'Technology', 'Finance', 'Healthcare'};\nList<Account> accounts = [\n    SELECT Id, Name, Industry\n    FROM Account\n    WHERE Industry IN :industries\n];\n"})}),"\n",(0,c.jsx)(n.h3,{id:"not-operator",children:"NOT Operator"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query accounts not in Technology industry\nList<Account> accounts = [\n    SELECT Id, Name, Industry\n    FROM Account\n    WHERE Industry != 'Technology'\n];\n\n// Query accounts without contacts\nList<Account> accountsWithoutContacts = [\n    SELECT Id, Name\n    FROM Account\n    WHERE Id NOT IN (SELECT AccountId FROM Contact)\n];\n"})}),"\n",(0,c.jsx)(n.h3,{id:"date-queries",children:"Date Queries"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query accounts created this year\nDate startOfYear = Date.today().yearsBetween(Date.newInstance(Date.today().year(), 1, 1));\nList<Account> accounts = [\n    SELECT Id, Name, CreatedDate\n    FROM Account\n    WHERE CreatedDate >= :startOfYear\n];\n\n// Query opportunities closing in next 30 days\nDate thirtyDaysFromNow = Date.today().addDays(30);\nList<Opportunity> opportunities = [\n    SELECT Id, Name, CloseDate\n    FROM Opportunity\n    WHERE CloseDate <= :thirtyDaysFromNow\n    AND StageName = 'Prospecting'\n];\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-part-5-dml-operations",children:"\ud83d\udcbe Part 5: DML Operations"}),"\n",(0,c.jsx)(n.h3,{id:"dml-statement-types",children:"DML Statement Types"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Statement"}),(0,c.jsx)(n.th,{children:"Description"}),(0,c.jsx)(n.th,{children:"Example"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"insert"})}),(0,c.jsx)(n.td,{children:"Create new records"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"insert accounts"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"update"})}),(0,c.jsx)(n.td,{children:"Modify existing records"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"update accounts"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"delete"})}),(0,c.jsx)(n.td,{children:"Remove records"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"delete accounts"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"upsert"})}),(0,c.jsx)(n.td,{children:"Insert or update"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"upsert accounts Account.Id"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"undelete"})}),(0,c.jsx)(n.td,{children:"Restore from recycle bin"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"undelete accounts"})})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"insert-records",children:"Insert Records"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Single insert\nAccount acc = new Account(\n    Name = 'New Account',\n    Industry = 'Technology',\n    AnnualRevenue = 1000000\n);\ninsert acc;\n\n// Bulk insert\nList<Account> accounts = new List<Account>{\n    new Account(Name = 'Account 1', Industry = 'Technology'),\n    new Account(Name = 'Account 2', Industry = 'Finance'),\n    new Account(Name = 'Account 3', Industry = 'Healthcare')\n};\ninsert accounts;\n\n// Insert with error handling\nDatabase.SaveResult[] results = Database.insert(accounts, false);\n\nfor (Database.SaveResult sr : results) {\n    if (sr.isSuccess()) {\n        System.debug('Success: ' + sr.getId());\n    } else {\n        for (Database.Error err : sr.getErrors()) {\n            System.debug('Error: ' + err.getMessage());\n        }\n    }\n}\n"})}),"\n",(0,c.jsx)(n.h3,{id:"update-records",children:"Update Records"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Query and update\nAccount acc = [SELECT Id, Name, AnnualRevenue FROM Account WHERE Name = 'New Account' LIMIT 1];\nif (acc != null) {\n    acc.AnnualRevenue = 2000000;\n    update acc;\n}\n\n// Bulk update\nList<Account> accounts = [SELECT Id, AnnualRevenue FROM Account WHERE Industry = 'Technology'];\nfor (Account acc : accounts) {\n    acc.AnnualRevenue *= 1.1; // Increase by 10%\n}\nupdate accounts;\n\n// Update with partial success\nDatabase.SaveResult[] results = Database.update(accounts, false);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"delete-records",children:"Delete Records"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Delete single record\nAccount acc = [SELECT Id FROM Account WHERE Name = 'Account to Delete' LIMIT 1];\nif (acc != null) {\n    delete acc;\n}\n\n// Bulk delete\nList<Account> accounts = [SELECT Id FROM Account WHERE Industry = 'Old Industry'];\ndelete accounts;\n\n// Delete with error handling\nDatabase.DeleteResult[] results = Database.delete(accounts, false);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"upsert-records",children:"Upsert Records"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Upsert by ID\nAccount acc = new Account(\n    Id = '00128000002RZ2l', // Existing ID\n    Name = 'Updated Account',\n    AnnualRevenue = 3000000\n);\nupsert acc Account.Id;\n\n// Upsert by external ID\nAccount extAcc = new Account(\n    External_ID__c = 'EXT123',\n    Name = 'External Account',\n    Industry = 'Technology'\n);\nupsert extAcc Account.External_ID__c;\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\ufe0f-part-6-governor-limits",children:"\u26a0\ufe0f Part 6: Governor Limits"}),"\n",(0,c.jsx)(n.h3,{id:"important-soql-limits",children:"Important SOQL Limits"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Limit"}),(0,c.jsx)(n.th,{children:"Value"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"SOQL Queries"})}),(0,c.jsx)(n.td,{children:"100 per transaction"}),(0,c.jsx)(n.td,{children:"Total queries in one execution"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"SOQL Query Rows"})}),(0,c.jsx)(n.td,{children:"50,000 per transaction"}),(0,c.jsx)(n.td,{children:"Total records retrieved"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"SOQL Query Locators"})}),(0,c.jsx)(n.td,{children:"50,000 per transaction"}),(0,c.jsx)(n.td,{children:"Records that can be queried using query locator"})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"important-dml-limits",children:"Important DML Limits"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Limit"}),(0,c.jsx)(n.th,{children:"Value"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"DML Statements"})}),(0,c.jsx)(n.td,{children:"150 per transaction"}),(0,c.jsx)(n.td,{children:"Total DML operations"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"DML Rows"})}),(0,c.jsx)(n.td,{children:"10,000 per transaction"}),(0,c.jsx)(n.td,{children:"Total records modified"})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"common-limit-violations",children:"Common Limit Violations"}),"\n",(0,c.jsx)(n.h4,{id:"too-many-soql-queries-101-exception",children:"Too Many SOQL Queries (101 Exception)"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Bad Code:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"for (Account acc : Trigger.new) {\n    // SOQL in loop - WILL HIT LIMIT!\n    List<Contact> contacts = [\n        SELECT Id FROM Contact WHERE AccountId = :acc.Id\n    ];\n}\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Good Code (Bulkified):"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"Set<Id> accountIds = new Set<Id>();\nfor (Account acc : Trigger.new) {\n    accountIds.add(acc.Id);\n}\n\n// Single query for all accounts\nList<Contact> contacts = [\n    SELECT Id, AccountId FROM Contact \n    WHERE AccountId IN :accountIds\n];\n"})}),"\n",(0,c.jsx)(n.h4,{id:"too-many-dml-statements-151-exception",children:"Too Many DML Statements (151 Exception)"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Bad Code:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"for (Contact con : contacts) {\n    con.Description = 'Updated';\n    // DML in loop - WILL HIT LIMIT!\n    update con;\n}\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Good Code (Bulkified):"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"// Update all contacts at once\nfor (Contact con : contacts) {\n    con.Description = 'Updated';\n}\nupdate contacts; // Single DML statement\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-part-7-soql-best-practices",children:"\ud83c\udfaf Part 7: SOQL Best Practices"}),"\n",(0,c.jsx)(n.h3,{id:"query-optimization",children:"Query Optimization"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Select only required fields"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"SELECT Id, Name, Industry FROM Account"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u274c ",(0,c.jsx)(n.code,{children:"SELECT * FROM Account"})," (Not supported in SOQL)"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Use WHERE clause to filter"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"SELECT Id FROM Account WHERE Industry = 'Technology'"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u274c ",(0,c.jsx)(n.code,{children:"SELECT Id FROM Account"})," then filter in Apex"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Use LIMIT when appropriate"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"SELECT Id FROM Account LIMIT 10"})]}),"\n",(0,c.jsx)(n.li,{children:"\u274c Query all records when only need first 10"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Use indexed fields in WHERE"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"WHERE Id = :accountId"})," or ",(0,c.jsx)(n.code,{children:"WHERE Name = :name"})]}),"\n",(0,c.jsx)(n.li,{children:"\u274c Complex WHERE on non-indexed fields"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Avoid SOQL in loops"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u2705 Collect IDs, query once"}),"\n",(0,c.jsx)(n.li,{children:"\u274c Query for each record in loop"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"dml-best-practices",children:"DML Best Practices"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Bulkify DML operations"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"update allAccounts;"})," (single statement)"]}),"\n",(0,c.jsxs)(n.li,{children:["\u274c ",(0,c.jsx)(n.code,{children:"update acc;"})," in loop"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Use Database methods for partial success"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"Database.insert(records, false);"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u274c ",(0,c.jsx)(n.code,{children:"insert records;"})," (all or nothing)"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Use upsert instead of insert/update"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u2705 ",(0,c.jsx)(n.code,{children:"upsert records Account.Id;"})]}),"\n",(0,c.jsx)(n.li,{children:"\u274c Check if exists, then insert or update"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Validate before DML"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u2705 Validate in code before DML"}),"\n",(0,c.jsx)(n.li,{children:"\u274c Rely on database validation only"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-practice-exercise",children:"\ud83d\udcdd Practice Exercise"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Task:"})," Create utility class for SOQL queries"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:"Method to get accounts by industry"}),"\n",(0,c.jsx)(n.li,{children:"Method to get contacts by account ID"}),"\n",(0,c.jsx)(n.li,{children:"Method to get total opportunity amount by account"}),"\n",(0,c.jsx)(n.li,{children:"Method to get accounts created this month"}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Time Estimate:"})," 45 minutes"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Example:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-apex",children:"public class QueryUtility {\n    \n    public static List<Account> getAccountsByIndustry(String industry) {\n        // Implementation\n    }\n    \n    public static List<Contact> getContactsByAccount(Id accountId) {\n        // Implementation\n    }\n    \n    public static Decimal getAccountTotalOpportunity(Id accountId) {\n        // Implementation\n    }\n    \n    public static List<Account> getAccountsCreatedThisMonth() {\n        // Implementation\n    }\n}\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-checklist",children:"\u2705 Checklist"}),"\n",(0,c.jsx)(n.h3,{id:"day-5-soql-queries",children:"Day 5: SOQL Queries"}),"\n",(0,c.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Written basic SOQL queries"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented parent-to-child queries"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented child-to-parent queries"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Used aggregate functions"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Tested queries in Developer Console"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Reviewed query results"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"day-6-dml-operations--limits",children:"Day 6: DML Operations & Limits"}),"\n",(0,c.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented insert operations"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented update operations"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented delete operations"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Used Database methods for error handling"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Bulkified DML operations"]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Applied Governor Limits best practices"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-trailhead-modules",children:"\ud83c\udf93 Trailhead Modules"}),"\n",(0,c.jsx)(n.p,{children:"Complete these modules for deeper understanding:"}),"\n",(0,c.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,c.jsx)(n.strong,{children:"SOQL & SOSL Queries"})," - ",(0,c.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/soql_sosl",children:"https://trailhead.salesforce.com/content/learn/modules/soql_sosl"})]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,c.jsx)(n.strong,{children:"SOQL Queries"})," - ",(0,c.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/soql_queries",children:"https://trailhead.salesforce.com/content/learn/modules/soql_queries"})]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,c.jsx)(n.strong,{children:"Apex DML"})," - ",(0,c.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/apex_dml",children:"https://trailhead.salesforce.com/content/learn/modules/apex_dml"})]}),"\n",(0,c.jsxs)(n.li,{className:"task-list-item",children:[(0,c.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,c.jsx)(n.strong,{children:"Governor Limits"})," - ",(0,c.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/apex_governor_limits",children:"https://trailhead.salesforce.com/content/learn/modules/apex_governor_limits"})]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\udcda Next Steps"}),"\n",(0,c.jsx)(n.p,{children:"Sau khi ho\xe0n th\xe0nh Days 5-6:"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:"\u2705 Practice SOQL queries with different scenarios"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Implement DML operations with error handling"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Apply bulkification patterns"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Review Governor Limits"}),"\n",(0,c.jsx)(n.li,{children:"\u2705 Prepare for Day 7: Testing & Review"}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Ti\u1ebfp t\u1ee5c:"})," ",(0,c.jsx)(n.a,{href:"/learn-salesforce/docs/week2/testing-review",children:"Day 7: Testing & Review"})]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>l});var s=t(6540);const c={},i=s.createContext(c);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);