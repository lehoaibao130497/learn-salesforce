"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9646],{4013(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"week3/apex-integration","title":"Week 3, Day 5-6: Apex Integration & Chart.js","description":"\ud83d\udcda Learning Objectives","source":"@site/docs/week3/apex-integration.md","sourceDirName":"week3","slug":"/week3/apex-integration","permalink":"/learn-salesforce/docs/week3/apex-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/lehoaibao130497/learn-salesforce/tree/main/website/docs/docs/week3/apex-integration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Week 3, Day 3-4: Event Handling & Communication","permalink":"/learn-salesforce/docs/week3/events-communication"},"next":{"title":"Week 3, Day 7: Testing & Week 3 Review","permalink":"/learn-salesforce/docs/week3/testing-review"}}');var a=t(4848),s=t(8453);const i={},l="Week 3, Day 5-6: Apex Integration & Chart.js",c={},o=[{value:"\ud83d\udcda Learning Objectives",id:"-learning-objectives",level:2},{value:"\ud83c\udfaf Part 1: Calling Apex from LWC",id:"-part-1-calling-apex-from-lwc",level:2},{value:"Why Use Apex with LWC?",id:"why-use-apex-with-lwc",level:3},{value:"Apex Methods for LWC",id:"apex-methods-for-lwc",level:3},{value:"Example Apex Class",id:"example-apex-class",level:4},{value:"\ud83d\udd27 Part 2: @wire with Apex",id:"-part-2-wire-with-apex",level:2},{value:"Using @wire with Apex",id:"using-wire-with-apex",level:3},{value:"@wire with Parameters",id:"wire-with-parameters",level:3},{value:"@wire with Object Parameters",id:"wire-with-object-parameters",level:3},{value:"\ud83d\udcde Part 3: Imperative Apex Calls",id:"-part-3-imperative-apex-calls",level:2},{value:"When to Use Imperative Calls",id:"when-to-use-imperative-calls",level:3},{value:"Imperative Call Syntax",id:"imperative-call-syntax",level:3},{value:"Sequential Apex Calls",id:"sequential-apex-calls",level:3},{value:"\ud83c\udfa8 Part 4: Integrating Chart.js",id:"-part-4-integrating-chartjs",level:2},{value:"What is Chart.js?",id:"what-is-chartjs",level:3},{value:"Loading External Libraries",id:"loading-external-libraries",level:3},{value:"Using Static Resources",id:"using-static-resources",level:4},{value:"Using CDN (Simpler for Development)",id:"using-cdn-simpler-for-development",level:4},{value:"Creating Chart Component",id:"creating-chart-component",level:3},{value:"Chart Data Format",id:"chart-data-format",level:3},{value:"\ud83d\udd04 Part 5: Error Handling",id:"-part-5-error-handling",level:2},{value:"Apex Error Handling",id:"apex-error-handling",level:3},{value:"Displaying Errors",id:"displaying-errors",level:3},{value:"\ud83d\udca1 Part 6: Best Practices",id:"-part-6-best-practices",level:2},{value:"Apex Integration Best Practices",id:"apex-integration-best-practices",level:3},{value:"Chart.js Best Practices",id:"chartjs-best-practices",level:3},{value:"\ud83d\udcdd Practice Exercise",id:"-practice-exercise",level:2},{value:"\u2705 Checklist",id:"-checklist",level:2},{value:"Day 5: Apex Integration",id:"day-5-apex-integration",level:3},{value:"Day 6: Chart.js Integration",id:"day-6-chartjs-integration",level:3},{value:"\ud83c\udf93 Trailhead Modules",id:"-trailhead-modules",level:2},{value:"\ud83d\udcda Next Steps",id:"-next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"week-3-day-5-6-apex-integration--chartjs",children:"Week 3, Day 5-6: Apex Integration & Chart.js"})}),"\n",(0,a.jsx)(n.h2,{id:"-learning-objectives",children:"\ud83d\udcda Learning Objectives"}),"\n",(0,a.jsx)(n.p,{children:"Sau khi ho\xe0n th\xe0nh c\xe1c b\xe0i h\u1ecdc n\xe0y, b\u1ea1n s\u1ebd:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u2705 Call Apex methods from LWC"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Use @wire with Apex"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Implement imperative Apex calls"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Handle Apex errors gracefully"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Integrate third-party libraries (Chart.js)"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Load static resources properly"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Apply integration best practices"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-part-1-calling-apex-from-lwc",children:"\ud83c\udfaf Part 1: Calling Apex from LWC"}),"\n",(0,a.jsx)(n.h3,{id:"why-use-apex-with-lwc",children:"Why Use Apex with LWC?"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Apex integration"})," provides:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Complex queries"})," - Beyond Lightning Data Service capabilities"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Business logic"})," - Server-side processing"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"DML operations"})," - Create, update, delete records"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"External API calls"})," - Integration with third-party systems"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"apex-methods-for-lwc",children:"Apex Methods for LWC"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Method must be ",(0,a.jsx)(n.code,{children:"static"})]}),"\n",(0,a.jsxs)(n.li,{children:["Annotate with ",(0,a.jsx)(n.code,{children:"@AuraEnabled(cacheable=true)"})]}),"\n",(0,a.jsxs)(n.li,{children:["Return type: ",(0,a.jsx)(n.code,{children:"void"}),", ",(0,a.jsx)(n.code,{children:"String"}),", ",(0,a.jsx)(n.code,{children:"Integer"}),", ",(0,a.jsx)(n.code,{children:"Boolean"}),", ",(0,a.jsx)(n.code,{children:"sObject"}),", ",(0,a.jsx)(n.code,{children:"List<sObject>"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"example-apex-class",children:"Example Apex Class"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-apex",children:"public with sharing class AccountController {\n    \n    @AuraEnabled(cacheable=true)\n    public static List<Account> getAccounts() {\n        return [\n            SELECT Id, Name, Industry, AnnualRevenue \n            FROM Account \n            LIMIT 10\n        ];\n    }\n    \n    @AuraEnabled(cacheable=true)\n    public static Account getAccount(Id accountId) {\n        return [\n            SELECT Id, Name, Industry, AnnualRevenue \n            FROM Account \n            WHERE Id = :accountId\n        ];\n    }\n    \n    @AuraEnabled\n    public static Account createAccount(String name, String industry) {\n        Account acc = new Account(\n            Name = name,\n            Industry = industry\n        );\n        insert acc;\n        return acc;\n    }\n}\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-part-2-wire-with-apex",children:"\ud83d\udd27 Part 2: @wire with Apex"}),"\n",(0,a.jsx)(n.h3,{id:"using-wire-with-apex",children:"Using @wire with Apex"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"@wire decorator"})," automatically calls Apex and manages data:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, wire, track } from 'lwc';\nimport getAccounts from '@salesforce/apex/AccountController.getAccounts';\n\nexport default class AccountList extends LightningElement {\n    @track accounts = [];\n    @track error;\n    \n    // Wire to Apex method\n    @wire(getAccounts)\n    wiredAccounts({ error, data }) {\n        if (data) {\n            this.accounts = data;\n        } else if (error) {\n            this.error = error;\n            console.error('Error fetching accounts:', error);\n        }\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"wire-with-parameters",children:"@wire with Parameters"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, wire, api } from 'lwc';\nimport getAccount from '@salesforce/apex/AccountController.getAccount';\n\nexport default class AccountDetail extends LightningElement {\n    @api recordId;\n    \n    // Wire with parameter\n    @wire(getAccount, { accountId: '$recordId' })\n    account;\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Apex:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-apex",children:"public with sharing class AccountController {\n    \n    @AuraEnabled(cacheable=true)\n    public static Account getAccount(Id accountId) {\n        return [\n            SELECT Id, Name, Industry, AnnualRevenue \n            FROM Account \n            WHERE Id = :accountId\n        ];\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"wire-with-object-parameters",children:"@wire with Object Parameters"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, wire, track } from 'lwc';\nimport searchAccounts from '@salesforce/apex/AccountController.searchAccounts';\n\nexport default class AccountSearch extends LightningElement {\n    @track searchResults = [];\n    @track searchKey = '';\n    \n    // Wire with object parameter\n    @wire(searchAccounts, { searchKey: '$searchKey' })\n    wiredResults({ error, data }) {\n        if (data) {\n            this.searchResults = data;\n        } else if (error) {\n            console.error('Search error:', error);\n        }\n    }\n    \n    handleSearch(event) {\n        this.searchKey = event.target.value;\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Apex:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-apex",children:"public with sharing class AccountController {\n    \n    @AuraEnabled(cacheable=true)\n    public static List<Account> searchAccounts(String searchKey) {\n        String key = '%' + searchKey + '%';\n        return [\n            SELECT Id, Name, Industry \n            FROM Account \n            WHERE Name LIKE :key\n            LIMIT 20\n        ];\n    }\n}\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-part-3-imperative-apex-calls",children:"\ud83d\udcde Part 3: Imperative Apex Calls"}),"\n",(0,a.jsx)(n.h3,{id:"when-to-use-imperative-calls",children:"When to Use Imperative Calls"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Imperative calls"})," are useful when:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Need to call on user action (button click)"}),"\n",(0,a.jsx)(n.li,{children:"Dynamic parameters based on user input"}),"\n",(0,a.jsx)(n.li,{children:"Need control over when call happens"}),"\n",(0,a.jsx)(n.li,{children:"Need to handle multiple operations sequentially"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"imperative-call-syntax",children:"Imperative Call Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, track } from 'lwc';\nimport createAccount from '@salesforce/apex/AccountController.createAccount';\n\nexport default class CreateAccountForm extends LightningElement {\n    @track accountName = '';\n    @track industry = 'Technology';\n    @track isLoading = false;\n    @track error;\n    \n    handleInputChange(event) {\n        if (event.target.label === 'Account Name') {\n            this.accountName = event.target.value;\n        } else if (event.target.label === 'Industry') {\n            this.industry = event.target.value;\n        }\n    }\n    \n    async handleSubmit() {\n        this.isLoading = true;\n        this.error = undefined;\n        \n        try {\n            // Imperative Apex call\n            const result = await createAccount({\n                name: this.accountName,\n                industry: this.industry\n            });\n            \n            // Success - show success message\n            this.showToast('Success', 'Account created successfully');\n            \n            // Reset form\n            this.accountName = '';\n            \n            // Notify parent\n            this.dispatchCreateEvent(result);\n        } catch (error) {\n            // Handle error\n            this.error = error;\n            this.showToast('Error', 'Failed to create account: ' + error.body.message);\n        } finally {\n            this.isLoading = false;\n        }\n    }\n    \n    showToast(title, message) {\n        const event = new ShowToastEvent({\n            title: title,\n            message: message,\n            variant: title === 'Success' ? 'success' : 'error'\n        });\n        this.dispatchEvent(event);\n    }\n    \n    dispatchCreateEvent(account) {\n        const event = new CustomEvent('accountcreated', {\n            detail: account,\n            bubbles: true\n        });\n        this.dispatchEvent(event);\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"sequential-apex-calls",children:"Sequential Apex Calls"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"async handleMultipleOperations() {\n    this.isLoading = true;\n    \n    try {\n        // First operation\n        const account = await createAccount({\n            name: 'Test Account',\n            industry: 'Technology'\n        });\n        \n        // Second operation (depends on first)\n        const contact = await createContact({\n            accountId: account.Id,\n            firstName: 'John',\n            lastName: 'Doe'\n        });\n        \n        console.log('Both operations successful');\n    } catch (error) {\n        console.error('Error:', error);\n    } finally {\n        this.isLoading = false;\n    }\n}\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-part-4-integrating-chartjs",children:"\ud83c\udfa8 Part 4: Integrating Chart.js"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-chartjs",children:"What is Chart.js?"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Chart.js"})," l\xe0 popular JavaScript library for:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Data visualization"})," - Charts, graphs, plots"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Responsive"})," - Adapts to screen size"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Interactive"})," - Hover effects, click events"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Easy to use"})," - Simple API"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"loading-external-libraries",children:"Loading External Libraries"}),"\n",(0,a.jsx)(n.h4,{id:"using-static-resources",children:"Using Static Resources"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Step 1: Upload Chart.js as Static Resource"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Download Chart.js from ",(0,a.jsx)(n.a,{href:"https://www.chartjs.org/",children:"https://www.chartjs.org/"})]}),"\n",(0,a.jsx)(n.li,{children:"Go to Setup > Static Resources"}),"\n",(0,a.jsxs)(n.li,{children:["Upload as ",(0,a.jsx)(n.code,{children:"chartjs"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Step 2: Import in Component"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { loadScript } from 'lightning/platformResourceLoader';\nimport CHART_JS from '@salesforce/resourceUrl/chartjs';\n\nexport default class RevenueChart extends LightningElement {\n    @api chartData;\n    chart;\n    chartJsLoaded = false;\n    \n    renderedCallback() {\n        if (this.chartData && !this.chartJsLoaded) {\n            this.loadChartJs();\n        }\n    }\n    \n    async loadChartJs() {\n        try {\n            await loadScript(this, CHART_JS);\n            this.chartJsLoaded = true;\n            this.initializeChart();\n        } catch (error) {\n            console.error('Error loading Chart.js:', error);\n        }\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h4,{id:"using-cdn-simpler-for-development",children:"Using CDN (Simpler for Development)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<template>\n    <lightning-card title="Revenue Chart" icon-name="standard:dashboard">\n        <div class="slds-p-around_medium">\n            <canvas lwc:dom="manual" class="chart"></canvas>\n        </div>\n    </lightning-card>\n</template>\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:".js-meta.xml:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<targets>\n    <target>lightning__RecordPage</target>\n    <target>lightning__AppPage</target>\n    <target>lightningCommunity__Page</target>\n</targets>\n<targetConfigs>\n    <targetConfig targets="lightning__RecordPage, lightning__AppPage, lightningCommunity__Page">\n        <property name="enableExternalScripts" type="Boolean" default="true"/>\n    </targetConfig>\n</targetConfigs>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"creating-chart-component",children:"Creating Chart Component"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, api } from 'lwc';\n\nexport default class RevenueChart extends LightningElement {\n    @api chartData;\n    chart;\n    \n    renderedCallback() {\n        if (this.chartData && !this.chart) {\n            this.initializeChart();\n        }\n    }\n    \n    initializeChart() {\n        const canvas = this.template.querySelector('canvas');\n        if (!canvas) return;\n        \n        const ctx = canvas.getContext('2d');\n        \n        this.chart = new Chart(ctx, {\n            type: 'bar',\n            data: this.chartData,\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                    legend: {\n                        position: 'top',\n                    },\n                    title: {\n                        display: true,\n                        text: 'Revenue by Month'\n                    }\n                },\n                tooltip: {\n                    callbacks: {\n                        label: function(context) {\n                            let label = context.dataset.label || '';\n                            if (label) {\n                                label += ': ';\n                            }\n                            if (context.parsed.y !== null) {\n                                label += new Intl.NumberFormat('en-US', {\n                                    style: 'currency',\n                                    currency: 'USD'\n                                }).format(context.parsed.y);\n                            }\n                            return label;\n                        }\n                    }\n                }\n            },\n                onClick: (event, elements) => {\n                    if (elements.length > 0) {\n                        const index = elements[0].index;\n                        this.dispatchChartClick(index);\n                    }\n                }\n            },\n            scales: {\n                y: {\n                    beginAtZero: true,\n                    ticks: {\n                        callback: function(value) {\n                            return '$' + value.toLocaleString();\n                        }\n                    }\n                }\n            }\n        }\n    });\n    }\n    \n    dispatchChartClick(index) {\n        const selectedData = {\n            month: this.chartData.labels[index],\n            value: this.chartData.datasets[0].data[index]\n        };\n        \n        const event = new CustomEvent('chartclick', {\n            detail: selectedData,\n            bubbles: true\n        });\n        this.dispatchEvent(event);\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Template:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<template>\n    <lightning-card title="Revenue Chart" icon-name="standard:dashboard">\n        <div class="slds-p-around_medium">\n            <template if:false={chart}>\n                <div class="chart-container">\n                    <canvas></canvas>\n                </div>\n            </template>\n            \n            <template if:true={chart}>\n                <lightning-spinner alternative-text="Loading chart..."></lightning-spinner>\n            </template>\n        </div>\n    </lightning-card>\n</template>\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"CSS:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-css",children:".chart-container {\n    height: 400px;\n    position: relative;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"chart-data-format",children:"Chart Data Format"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Prepare data for Chart.js\nconst chartData = {\n    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],\n    datasets: [{\n        label: 'Revenue',\n        data: [12000, 19000, 15000, 25000, 22000, 30000],\n        backgroundColor: 'rgba(54, 162, 235, 0.2)',\n        borderColor: 'rgba(54, 162, 235, 1)',\n        borderWidth: 2,\n        borderRadius: 5,\n        tension: 0.4\n    }]\n};\n\n// Pass to component\n<c-revenue-chart chart-data={chartData}></c-revenue-chart>\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-part-5-error-handling",children:"\ud83d\udd04 Part 5: Error Handling"}),"\n",(0,a.jsx)(n.h3,{id:"apex-error-handling",children:"Apex Error Handling"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, track } from 'lwc';\nimport { ShowToastEvent } from 'lightning/platformShowToastEvent';\n\nexport default class AccountManager extends LightningElement {\n    @track error;\n    @track isLoading = false;\n    \n    async handleCreate() {\n        this.isLoading = true;\n        this.error = undefined;\n        \n        try {\n            const result = await createAccount({ name: 'Test' });\n            this.showToast('Success', 'Account created');\n        } catch (error) {\n            // Extract error details\n            let message = 'Unknown error';\n            let details = error.body;\n            \n            if (details) {\n                if (details.exceptionType === 'System.StringException') {\n                    message = 'Name is required';\n                } else if (details.message) {\n                    message = details.message;\n                }\n            }\n            \n            this.error = {\n                message: message,\n                details: details\n            };\n            \n            this.showToast('Error', message, 'error');\n        } finally {\n            this.isLoading = false;\n        }\n    }\n    \n    showToast(title, message, variant = 'info') {\n        const event = new ShowToastEvent({\n            title: title,\n            message: message,\n            variant: variant\n        });\n        this.dispatchEvent(event);\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"displaying-errors",children:"Displaying Errors"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<template>\n    <template if:true={error}>\n        <div class="error-container">\n            <lightning-icon icon-name="utility:error" size="small"></lightning-icon>\n            <span class="error-message">{error.message}</span>\n        </div>\n    </template>\n    \n    <template if:true={isLoading}>\n        <lightning-spinner></lightning-spinner>\n    </template>\n</template>\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-part-6-best-practices",children:"\ud83d\udca1 Part 6: Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"apex-integration-best-practices",children:"Apex Integration Best Practices"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Use @wire for reactive data"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Automatic updates"}),"\n",(0,a.jsx)(n.li,{children:"Built-in caching"}),"\n",(0,a.jsx)(n.li,{children:"Cleaner code"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Use imperative calls for actions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Button clicks, form submissions"}),"\n",(0,a.jsx)(n.li,{children:"Dynamic parameters"}),"\n",(0,a.jsx)(n.li,{children:"Sequential operations"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Handle errors gracefully"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Try-catch blocks"}),"\n",(0,a.jsx)(n.li,{children:"User-friendly messages"}),"\n",(0,a.jsx)(n.li,{children:"Fallback content"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Use loading states"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Show spinner"}),"\n",(0,a.jsx)(n.li,{children:"Disable buttons"}),"\n",(0,a.jsx)(n.li,{children:"Provide feedback"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Cache appropriately"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"cacheable=true"})," for read-only operations"]}),"\n",(0,a.jsx)(n.li,{children:"No cache for DML operations"}),"\n",(0,a.jsx)(n.li,{children:"Consider data freshness"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"chartjs-best-practices",children:"Chart.js Best Practices"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Load libraries in renderedCallback"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Check if already loaded"}),"\n",(0,a.jsx)(n.li,{children:"Avoid multiple loads"}),"\n",(0,a.jsx)(n.li,{children:"Handle errors gracefully"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Make charts responsive"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Set responsive: true"}),"\n",(0,a.jsx)(n.li,{children:"Control aspect ratio"}),"\n",(0,a.jsx)(n.li,{children:"Test on different screen sizes"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Handle chart interactions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Dispatch custom events"}),"\n",(0,a.jsx)(n.li,{children:"Pass relevant data"}),"\n",(0,a.jsx)(n.li,{children:"Update UI accordingly"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Format data appropriately"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Prepare data before passing"}),"\n",(0,a.jsx)(n.li,{children:"Use correct format"}),"\n",(0,a.jsx)(n.li,{children:"Handle null/undefined values"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-practice-exercise",children:"\ud83d\udcdd Practice Exercise"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Task:"})," Create Revenue Chart with Apex Integration"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Apex method to get monthly revenue data"}),"\n",(0,a.jsx)(n.li,{children:"LWC component with Chart.js"}),"\n",(0,a.jsx)(n.li,{children:"Wire to Apex for data"}),"\n",(0,a.jsx)(n.li,{children:"Display bar chart of revenue"}),"\n",(0,a.jsx)(n.li,{children:"Handle loading and error states"}),"\n",(0,a.jsx)(n.li,{children:"Implement chart click event"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Time Estimate:"})," 75 minutes"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Apex Class:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-apex",children:"public with sharing class RevenueController {\n    \n    @AuraEnabled(cacheable=true)\n    public static List<RevenueData> getMonthlyRevenue() {\n        List<RevenueData> result = new List<RevenueData>();\n        \n        List<AggregateResult> opps = [\n            SELECT CALENDAR_MONTH(CloseDate) month,\n                   SUM(Amount) revenue\n            FROM Opportunity\n            WHERE StageName = 'Closed Won'\n            AND CloseDate = THIS_YEAR\n            GROUP BY CALENDAR_MONTH(CloseDate)\n            ORDER BY CALENDAR_MONTH(CloseDate)\n        ];\n        \n        for (AggregateResult ar : opps) {\n            RevenueData data = new RevenueData();\n            data.month = (Integer) ar.get('month');\n            data.revenue = (Decimal) ar.get('revenue');\n            result.add(data);\n        }\n        \n        return result;\n    }\n    \n    public class RevenueData {\n        @AuraEnabled public Integer month;\n        @AuraEnabled public Decimal revenue;\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Starter LWC:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { LightningElement, wire, track } from 'lwc';\nimport getMonthlyRevenue from '@salesforce/apex/RevenueController.getMonthlyRevenue';\n\nexport default class RevenueChartComponent extends LightningElement {\n    @track chartData;\n    @track isLoading = true;\n    @track error;\n    \n    // Add @wire decorator here\n    \n    // Add Chart.js initialization here}\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-checklist",children:"\u2705 Checklist"}),"\n",(0,a.jsx)(n.h3,{id:"day-5-apex-integration",children:"Day 5: Apex Integration"}),"\n",(0,a.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Created Apex @AuraEnabled methods"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Used @wire with Apex"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented imperative Apex calls"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Handled Apex errors"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Added loading states"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Tested Apex integration"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"day-6-chartjs-integration",children:"Day 6: Chart.js Integration"}),"\n",(0,a.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Loaded Chart.js library"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Created chart component"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Displayed data in chart"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented chart interactions"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Made chart responsive"]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Applied best practices"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-trailhead-modules",children:"\ud83c\udf93 Trailhead Modules"}),"\n",(0,a.jsx)(n.p,{children:"Complete these modules for deeper understanding:"}),"\n",(0,a.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,a.jsx)(n.strong,{children:"Call Apex Methods"})," - ",(0,a.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/lwc_call_apex",children:"https://trailhead.salesforce.com/content/learn/modules/lwc_call_apex"})]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,a.jsx)(n.strong,{children:"Create Custom Record Pages"})," - ",(0,a.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/lwc_custom_record_pages",children:"https://trailhead.salesforce.com/content/learn/modules/lwc_custom_record_pages"})]}),"\n",(0,a.jsxs)(n.li,{className:"task-list-item",children:[(0,a.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,a.jsx)(n.strong,{children:"Adapt Components for Different Form Factors"})," - ",(0,a.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/lwc_adapt_form_factors",children:"https://trailhead.salesforce.com/content/learn/modules/lwc_adapt_form_factors"})]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\udcda Next Steps"}),"\n",(0,a.jsx)(n.p,{children:"Sau khi ho\xe0n th\xe0nh Days 5-6:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u2705 Practice Apex integration patterns"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Implement Chart.js visualizations"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Handle errors gracefully"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Create interactive charts"}),"\n",(0,a.jsx)(n.li,{children:"\u2705 Prepare for Day 7: Testing & Week 3 Review"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Ti\u1ebfp t\u1ee5c:"})," ",(0,a.jsx)(n.a,{href:"/learn-salesforce/docs/week3/testing-review",children:"Day 7: Testing & Week 3 Review"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>l});var r=t(6540);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);