"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[6621],{1103(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"week2/triggers","title":"Week 2, Day 3-4: Apex Triggers","description":"\ud83d\udcda Learning Objectives","source":"@site/docs/week2/triggers.md","sourceDirName":"week2","slug":"/week2/triggers","permalink":"/learn-salesforce/docs/week2/triggers","draft":false,"unlisted":false,"editUrl":"https://github.com/lehoaibao130497/learn-salesforce/tree/main/website/docs/docs/week2/triggers.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Week 2, Day 1-2: Apex Basics","permalink":"/learn-salesforce/docs/week2/apex-basics"},"next":{"title":"Week 2, Day 5-6: SOQL & DML","permalink":"/learn-salesforce/docs/week2/soql-dml"}}');var i=r(4848),s=r(8453);const l={},c="Week 2, Day 3-4: Apex Triggers",d={},a=[{value:"\ud83d\udcda Learning Objectives",id:"-learning-objectives",level:2},{value:"\ud83c\udfaf Part 1: Trigger Fundamentals",id:"-part-1-trigger-fundamentals",level:2},{value:"What is a Trigger?",id:"what-is-a-trigger",level:3},{value:"Trigger Events",id:"trigger-events",level:3},{value:"Before vs After Triggers",id:"before-vs-after-triggers",level:3},{value:"Trigger Context Variables",id:"trigger-context-variables",level:3},{value:"\ud83d\udd27 Part 2: Creating Your First Trigger",id:"-part-2-creating-your-first-trigger",level:2},{value:"Simple Trigger Example",id:"simple-trigger-example",level:3},{value:"After Trigger Example",id:"after-trigger-example",level:3},{value:"\ud83c\udfd7\ufe0f Part 3: Trigger Handler Pattern",id:"\ufe0f-part-3-trigger-handler-pattern",level:2},{value:"Why Use Handler Pattern?",id:"why-use-handler-pattern",level:3},{value:"Trigger Implementation",id:"trigger-implementation",level:3},{value:"\ud83d\udeab Part 4: AccountDeletionPreventer Trigger",id:"-part-4-accountdeletionpreventer-trigger",level:2},{value:"Project Requirement",id:"project-requirement",level:3},{value:"Implementation",id:"implementation",level:3},{value:"Helper Class",id:"helper-class",level:3},{value:"\ud83d\udd04 Part 5: Bulkification",id:"-part-5-bulkification",level:2},{value:"What is Bulkification?",id:"what-is-bulkification",level:3},{value:"Non-Bulkified Code (BAD)",id:"non-bulkified-code-bad",level:3},{value:"Bulkified Code (GOOD)",id:"bulkified-code-good",level:3},{value:"\ud83d\udc1b Part 6: Debugging Triggers",id:"-part-6-debugging-triggers",level:2},{value:"Using Debug Logs",id:"using-debug-logs",level:3},{value:"System.debug() Examples",id:"systemdebug-examples",level:3},{value:"\ud83d\udca1 Part 7: Best Practices",id:"-part-7-best-practices",level:2},{value:"Trigger Best Practices",id:"trigger-best-practices",level:3},{value:"\ud83d\udcdd Practice Exercise",id:"-practice-exercise",level:2},{value:"\u2705 Checklist",id:"-checklist",level:2},{value:"Day 3: Trigger Fundamentals",id:"day-3-trigger-fundamentals",level:3},{value:"Day 4: Handler Pattern &amp; Bulkification",id:"day-4-handler-pattern--bulkification",level:3},{value:"\ud83c\udf93 Trailhead Modules",id:"-trailhead-modules",level:2},{value:"\ud83d\udcda Next Steps",id:"-next-steps",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"week-2-day-3-4-apex-triggers",children:"Week 2, Day 3-4: Apex Triggers"})}),"\n",(0,i.jsx)(n.h2,{id:"-learning-objectives",children:"\ud83d\udcda Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"Sau khi ho\xe0n th\xe0nh c\xe1c b\xe0i h\u1ecdc n\xe0y, b\u1ea1n s\u1ebd:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Hi\u1ec3u trigger context variables"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Master before/after trigger execution"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Implement Trigger Handler pattern"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Write bulkified triggers"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Debug v\xe0 test triggers"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Implement AccountDeletionPreventer trigger"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-part-1-trigger-fundamentals",children:"\ud83c\udfaf Part 1: Trigger Fundamentals"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-trigger",children:"What is a Trigger?"}),"\n",(0,i.jsx)(n.p,{children:"Trigger l\xe0 \u0111o\u1ea1n Apex code executes tr\u01b0\u1edbc ho\u1eb7c sau specific database operations."}),"\n",(0,i.jsx)(n.h3,{id:"trigger-events",children:"Trigger Events"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Event"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"When it Fires"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"before insert"}),(0,i.jsx)(n.td,{children:"Before record is created"}),(0,i.jsx)(n.td,{children:"Insert operation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"after insert"}),(0,i.jsx)(n.td,{children:"After record is created"}),(0,i.jsx)(n.td,{children:"Insert operation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"before update"}),(0,i.jsx)(n.td,{children:"Before record is updated"}),(0,i.jsx)(n.td,{children:"Update operation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"after update"}),(0,i.jsx)(n.td,{children:"After record is updated"}),(0,i.jsx)(n.td,{children:"Update operation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"before delete"}),(0,i.jsx)(n.td,{children:"Before record is deleted"}),(0,i.jsx)(n.td,{children:"Delete operation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"after delete"}),(0,i.jsx)(n.td,{children:"After record is deleted"}),(0,i.jsx)(n.td,{children:"Delete operation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"after undelete"}),(0,i.jsx)(n.td,{children:"After record is restored"}),(0,i.jsx)(n.td,{children:"Undelete operation"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"before-vs-after-triggers",children:"Before vs After Triggers"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Aspect"}),(0,i.jsx)(n.th,{children:"Before Trigger"}),(0,i.jsx)(n.th,{children:"After Trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Record ID"}),(0,i.jsx)(n.td,{children:"Not assigned yet"}),(0,i.jsx)(n.td,{children:"Assigned"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Record Values"}),(0,i.jsx)(n.td,{children:"Can modify"}),(0,i.jsx)(n.td,{children:"Read-only"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Related Records"}),(0,i.jsx)(n.td,{children:"Cannot access"}),(0,i.jsx)(n.td,{children:"Can access"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Use Cases"}),(0,i.jsx)(n.td,{children:"Validation, field updates"}),(0,i.jsx)(n.td,{children:"Related records, external systems"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"trigger-context-variables",children:"Trigger Context Variables"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Available In"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.new"}),(0,i.jsx)(n.td,{children:"List"}),(0,i.jsx)(n.td,{children:"New versions of records for insert and update"}),(0,i.jsx)(n.td,{children:"Insert, Update"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.old"}),(0,i.jsx)(n.td,{children:"List"}),(0,i.jsx)(n.td,{children:"Old versions of records for update, delete, and undelete"}),(0,i.jsx)(n.td,{children:"Update, Delete, Undelete"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.newMap"}),(0,i.jsx)(n.td,{children:"Map"}),(0,i.jsx)(n.td,{children:"Map of new record IDs to new records"}),(0,i.jsx)(n.td,{children:"Insert, Update"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.oldMap"}),(0,i.jsx)(n.td,{children:"Map"}),(0,i.jsx)(n.td,{children:"Map of old record IDs to old records"}),(0,i.jsx)(n.td,{children:"Update, Delete, Undelete"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.isInsert"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsx)(n.td,{children:"True if trigger is insert"}),(0,i.jsx)(n.td,{children:"Insert"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.isUpdate"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsx)(n.td,{children:"True if trigger is update"}),(0,i.jsx)(n.td,{children:"Update"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.isDelete"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsx)(n.td,{children:"True if trigger is delete"}),(0,i.jsx)(n.td,{children:"Delete"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.isBefore"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsx)(n.td,{children:"True if trigger is before"}),(0,i.jsx)(n.td,{children:"Before insert, update, delete"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.isAfter"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsx)(n.td,{children:"True if trigger is after"}),(0,i.jsx)(n.td,{children:"After insert, update, delete, undelete"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Trigger.size"}),(0,i.jsx)(n.td,{children:"Integer"}),(0,i.jsx)(n.td,{children:"Number of records in trigger"}),(0,i.jsx)(n.td,{children:"All events"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-part-2-creating-your-first-trigger",children:"\ud83d\udd27 Part 2: Creating Your First Trigger"}),"\n",(0,i.jsx)(n.h3,{id:"simple-trigger-example",children:"Simple Trigger Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger AccountTrigger on Account (before insert, before update) {\n    \n    // Loop through all accounts in trigger\n    for (Account acc : Trigger.new) {\n        \n        // Set Industry to Technology if not specified\n        if (acc.Industry == null) {\n            acc.Industry = 'Technology';\n        }\n        \n        // Set Annual Revenue to 0 if not specified\n        if (acc.AnnualRevenue == null) {\n            acc.AnnualRevenue = 0;\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"after-trigger-example",children:"After Trigger Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger AccountAfterTrigger on Account (after insert, after update) {\n    \n    List<Contact> contactsToCreate = new List<Contact>();\n    \n    // Create default contact for each new account\n    for (Account acc : Trigger.new) {\n        Contact con = new Contact(\n            FirstName = 'Default',\n            LastName = 'Contact',\n            AccountId = acc.Id,\n            Email = 'default@' + acc.Name + '.com'\n        );\n        contactsToCreate.add(con);\n    }\n    \n    // Insert all contacts in one DML operation\n    if (!contactsToCreate.isEmpty()) {\n        insert contactsToCreate;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-part-3-trigger-handler-pattern",children:"\ud83c\udfd7\ufe0f Part 3: Trigger Handler Pattern"}),"\n",(0,i.jsx)(n.h3,{id:"why-use-handler-pattern",children:"Why Use Handler Pattern?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One trigger per object"}),"\n",(0,i.jsx)(n.li,{children:"Centralized logic"}),"\n",(0,i.jsx)(n.li,{children:"Easy to test"}),"\n",(0,i.jsx)(n.li,{children:"Clean architecture"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"trigger-implementation",children:"Trigger Implementation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger AccountTrigger on Account (\n    before insert, \n    before update, \n    before delete, \n    after insert, \n    after update, \n    after delete\n) {\n    // Call handler\n    AccountTriggerHandler handler = new AccountTriggerHandler();\n    \n    if (Trigger.isBefore) {\n        if (Trigger.isInsert) {\n            handler.beforeInsert(Trigger.new);\n        } else if (Trigger.isUpdate) {\n            handler.beforeUpdate(Trigger.new, Trigger.oldMap);\n        } else if (Trigger.isDelete) {\n            handler.beforeDelete(Trigger.old, Trigger.oldMap);\n        }\n    } else if (Trigger.isAfter) {\n        if (Trigger.isInsert) {\n            handler.afterInsert(Trigger.new, Trigger.newMap);\n        } else if (Trigger.isUpdate) {\n            handler.afterUpdate(Trigger.new, Trigger.newMap, Trigger.oldMap);\n        } else if (Trigger.isDelete) {\n            handler.afterDelete(Trigger.old, Trigger.oldMap);\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-part-4-accountdeletionpreventer-trigger",children:"\ud83d\udeab Part 4: AccountDeletionPreventer Trigger"}),"\n",(0,i.jsx)(n.h3,{id:"project-requirement",children:"Project Requirement"}),"\n",(0,i.jsx)(n.p,{children:"Prevent deletion of Account if it has related Contacts."}),"\n",(0,i.jsx)(n.h3,{id:"implementation",children:"Implementation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger AccountDeletionPreventer on Account (before delete) {\n    \n    // Get all Account IDs from trigger\n    Set<Id> accountIds = new Set<Id>();\n    for (Account acc : Trigger.old) {\n        accountIds.add(acc.Id);\n    }\n    \n    // Query for Contacts related to these Accounts\n    List<Contact> relatedContacts = [\n        SELECT Id, AccountId \n        FROM Contact \n        WHERE AccountId IN :accountIds\n    ];\n    \n    // Check if any contacts exist\n    if (!relatedContacts.isEmpty()) {\n        // Create error to prevent deletion\n        Trigger.old[0].addError(\n            'Cannot delete account with related contacts'\n        );\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"helper-class",children:"Helper Class"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"public class AccountDeletionPreventerHelper {\n    \n    public static void preventAccountDeletion(List<Account> accounts) {\n        \n        // Get all Account IDs\n        Set<Id> accountIds = new Set<Id>();\n        for (Account acc : accounts) {\n            accountIds.add(acc.Id);\n        }\n        \n        // Query for related contacts\n        List<Contact> relatedContacts = [\n            SELECT Id, AccountId \n            FROM Contact \n            WHERE AccountId IN :accountIds\n        ];\n        \n        // Map contacts to accounts\n        Map<Id, List<Contact>> accountContactsMap = new Map<Id, List<Contact>>();\n        for (Contact con : relatedContacts) {\n            if (!accountContactsMap.containsKey(con.AccountId)) {\n                accountContactsMap.put(con.AccountId, new List<Contact>());\n            }\n            accountContactsMap.get(con.AccountId).add(con);\n        }\n        \n        // Add errors to accounts with contacts\n        for (Account acc : accounts) {\n            if (accountContactsMap.containsKey(acc.Id) && \n                !accountContactsMap.get(acc.Id).isEmpty()) {\n                \n                Integer contactCount = accountContactsMap.get(acc.Id).size();\n                acc.addError(\n                    'Cannot delete account ' + acc.Name + \n                    ' because it has ' + contactCount + ' related contacts'\n                );\n            }\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-part-5-bulkification",children:"\ud83d\udd04 Part 5: Bulkification"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-bulkification",children:"What is Bulkification?"}),"\n",(0,i.jsx)(n.p,{children:"Bulkification l\xe0 practice of writing code that handles multiple records efficiently to avoid governor limits."}),"\n",(0,i.jsx)(n.h3,{id:"non-bulkified-code-bad",children:"Non-Bulkified Code (BAD)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger BadTrigger on Account (after update) {\n    \n    // BAD: SOQL inside loop - Will hit governor limits!\n    for (Account acc : Trigger.new) {\n        \n        // Query for contacts for each account\n        List<Contact> contacts = [\n            SELECT Id, FirstName, LastName \n            FROM Contact \n            WHERE AccountId = :acc.Id\n        ];\n        \n        // Update contacts\n        for (Contact con : contacts) {\n            con.Description = 'Account updated';\n        }\n        \n        // BAD: DML inside loop - Will hit governor limits!\n        update contacts;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"bulkified-code-good",children:"Bulkified Code (GOOD)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger GoodTrigger on Account (after update) {\n    \n    // GOOD: Collect all account IDs first\n    Set<Id> accountIds = new Set<Id>();\n    for (Account acc : Trigger.new) {\n        accountIds.add(acc.Id);\n    }\n    \n    // GOOD: Single SOQL query for all accounts\n    List<Contact> allContacts = [\n        SELECT Id, FirstName, LastName, AccountId \n        FROM Contact \n        WHERE AccountId IN :accountIds\n    ];\n    \n    // Update contacts\n    for (Contact con : allContacts) {\n        con.Description = 'Account updated';\n    }\n    \n    // GOOD: Single DML operation for all contacts\n    update allContacts;\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-part-6-debugging-triggers",children:"\ud83d\udc1b Part 6: Debugging Triggers"}),"\n",(0,i.jsx)(n.h3,{id:"using-debug-logs",children:"Using Debug Logs"}),"\n",(0,i.jsx)(n.p,{children:"Steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Setup -> Debug Logs -> New"}),"\n",(0,i.jsx)(n.li,{children:"Set Debug Level (default is fine for now)"}),"\n",(0,i.jsx)(n.li,{children:"Save and Monitor"}),"\n",(0,i.jsx)(n.li,{children:"Perform action that triggers trigger"}),"\n",(0,i.jsx)(n.li,{children:"Open debug log from monitoring page"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"systemdebug-examples",children:"System.debug() Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-apex",children:"trigger DebugTrigger on Account (before insert) {\n    \n    // Debug message with string\n    System.debug('Trigger started');\n    \n    // Debug with variable\n    System.debug('Trigger size: ' + Trigger.size);\n    \n    // Debug with object\n    System.debug('New accounts: ' + Trigger.new);\n    \n    // Debug with specific field\n    for (Account acc : Trigger.new) {\n        System.debug('Account Name: ' + acc.Name);\n    }\n    \n    // Debug with log level\n    System.debug(LoggingLevel.INFO, 'Information message');\n    System.debug(LoggingLevel.WARN, 'Warning message');\n    System.debug(LoggingLevel.ERROR, 'Error message');\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-part-7-best-practices",children:"\ud83d\udca1 Part 7: Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"trigger-best-practices",children:"Trigger Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"One trigger per object"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use handler pattern"}),"\n",(0,i.jsx)(n.li,{children:"Avoid multiple triggers on same object"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Always bulkify"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Handle multiple records"}),"\n",(0,i.jsx)(n.li,{children:"Don't assume single record"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Use handler pattern"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Separate logic from trigger"}),"\n",(0,i.jsx)(n.li,{children:"Don't put all logic in trigger"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Avoid SOQL/DML in loops"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query once, process many"}),"\n",(0,i.jsx)(n.li,{children:"Don't query many times"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Add error handling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use addError() for validation"}),"\n",(0,i.jsx)(n.li,{children:"Don't have silent failures"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Document triggers"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add comments explaining logic"}),"\n",(0,i.jsx)(n.li,{children:"Don't have mysterious code"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Test thoroughly"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Test with single and bulk records"}),"\n",(0,i.jsx)(n.li,{children:"Don't test only with single record"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-practice-exercise",children:"\ud83d\udcdd Practice Exercise"}),"\n",(0,i.jsx)(n.p,{children:"Task: Create ContactTrigger with validation"}),"\n",(0,i.jsx)(n.p,{children:"Requirements:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Prevent contact creation without email"}),"\n",(0,i.jsx)(n.li,{children:"Prevent email update to invalid format"}),"\n",(0,i.jsx)(n.li,{children:"Create ContactTriggerHandler class"}),"\n",(0,i.jsx)(n.li,{children:"Implement before insert and before update handlers"}),"\n",(0,i.jsx)(n.li,{children:"Use helper methods for validation"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Time Estimate: 45 minutes"}),"\n",(0,i.jsx)(n.p,{children:"Validation Rules:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Email cannot be null or blank"}),"\n",(0,i.jsx)(n.li,{children:"Email must contain @ symbol"}),"\n",(0,i.jsx)(n.li,{children:"Email must contain domain (.)"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-checklist",children:"\u2705 Checklist"}),"\n",(0,i.jsx)(n.h3,{id:"day-3-trigger-fundamentals",children:"Day 3: Trigger Fundamentals"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Created first simple trigger"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Understood trigger context variables"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented before insert trigger"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented after insert trigger"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Tested triggers in Developer Console"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Reviewed debug logs"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"day-4-handler-pattern--bulkification",children:"Day 4: Handler Pattern & Bulkification"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Implemented Trigger Handler pattern"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Created AccountDeletionPreventer trigger"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Bulkified trigger logic"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Added error handling"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Tested with multiple records"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Documented trigger behavior"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-trailhead-modules",children:"\ud83c\udf93 Trailhead Modules"}),"\n",(0,i.jsx)(n.p,{children:"Complete these modules for deeper understanding:"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Apex Triggers - ",(0,i.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/apex_triggers",children:"https://trailhead.salesforce.com/content/learn/modules/apex_triggers"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Apex Triggers & SOQL - ",(0,i.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/apex_triggers_soql",children:"https://trailhead.salesforce.com/content/learn/modules/apex_triggers_soql"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Apex Bulkification - ",(0,i.jsx)(n.a,{href:"https://trailhead.salesforce.com/content/learn/modules/apex_bulkification",children:"https://trailhead.salesforce.com/content/learn/modules/apex_bulkification"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\udcda Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Sau khi ho\xe0n th\xe0nh Days 3-4:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Practice trigger handler pattern"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Implement AccountDeletionPreventer trigger"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Test triggers with bulk data"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Review bulkification patterns"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Prepare for Day 5-6: SOQL & DML"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["Ti\u1ebfp t\u1ee5c: ",(0,i.jsx)(n.a,{href:"/learn-salesforce/docs/week2/soql-dml",children:"Day 5-6: SOQL & DML"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>c});var t=r(6540);const i={},s=t.createContext(i);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);